# Development environment specific values for nginx-sample
# These values override the base values in apps/nginx-sample/values.yaml

# Environment specific configuration
environment: "development"
message: "By Rnato35 (Development Environment)"
pageTitle: "Nginx Sample - DEV"

# Development specific scaling
replicaCount: 1
autoscaling:
  enabled: false

# Development resource limits (lower for cost optimization)
resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 50m
    memory: 64Mi

# Service configuration
service:
  type: ClusterIP
  port: 80
  targetPort: 80

# Ingress configuration for development
ingress:
  enabled: true
  className: "alb"
  hosts:
    - host: nginx-sample-dev.internal
      paths:
        - path: /
          pathType: Prefix
  aws:
    scheme: internal  # Internal load balancer for dev
    targetType: ip
    accessLogs:
      enabled: false

# Development health checks (more frequent)
livenessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 10
  periodSeconds: 15
  timeoutSeconds: 3
  failureThreshold: 5

readinessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 5
  periodSeconds: 5
  timeoutSeconds: 3
  failureThreshold: 3

# Enable nginx status page for development debugging
nginx:
  statusPage:
    enabled: true
    allowFrom:
      - 10.0.0.0/8
      - 172.16.0.0/12
      - 192.168.0.0/16

# Development specific annotations
podAnnotations:
  prometheus.io/scrape: "true"
  prometheus.io/port: "8080"
  prometheus.io/path: "/nginx-status"

# Node selection for development
nodeSelector:
  kubernetes.io/arch: amd64